{"ast":null,"code":"var _jsxFileName = \"/home/frangb/Documentos/xolos/practicas/src/components/Template/Buscador.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport useDebounce from \"../../services/debounceService\";\nimport filtrarArreglo from \"../../services/filterService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Buscador = ({\n  setFiltrado,\n  arr_sin_filtrar,\n  buscadores,\n  estado_inicial\n}) => {\n  _s();\n\n  //|------State-------|//\n  const [buscador_previo, setBuscadorPrevio] = useState({});\n  const buscador = useDebounce(buscador_previo, 200); //|------Actions------|//\n\n  const handleChange = (alias, value) => {\n    let idx_campo = (buscadores || []).map(item => item.alias).indexOf(alias);\n    let keys = buscadores[idx_campo].posicion.split(\".\");\n    let obj = value;\n    let aux = {};\n\n    for (let i = keys.length - 1; i >= 0; i--) {\n      aux[keys[i]] = obj;\n      obj = Object.assign({}, aux);\n      aux = {};\n    }\n\n    setBuscadorPrevio(Object.assign({}, buscador_previo, obj));\n  };\n\n  useEffect(() => {\n    if (buscador) {\n      let nuevo_array = arr_sin_filtrar != null ? filtrarArreglo(arr_sin_filtrar, buscador) : [];\n      setFiltrado(nuevo_array);\n    }\n  }, [buscador]);\n  useEffect(() => {\n    setBuscadorPrevio(estado_inicial);\n  }, [estado_inicial]); //|------Render------|//\n\n  return /*#__PURE__*/_jsxDEV(\"tr\", {\n    className: \"w-100\",\n    children: (buscadores || []).map((buscador, idx) => {\n      return /*#__PURE__*/_jsxDEV(\"td\", {\n        children: buscador.alias && /*#__PURE__*/_jsxDEV(\"input\", {\n          className: `form-control form-control-sm ${buscador.mostrar === false ? 'd-none' : ''}`,\n          placeholder: buscador.placeholder,\n          hidden: buscador.mostrar,\n          onChange: e => {\n            handleChange(buscador.alias, e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 44\n        }, this)\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Buscador, \"okeU+fD+V0Kc0QfDn9ReAYC1e+A=\", false, function () {\n  return [useDebounce];\n});\n\n_c = Buscador;\nexport default Buscador;\n\nvar _c;\n\n$RefreshReg$(_c, \"Buscador\");","map":{"version":3,"sources":["/home/frangb/Documentos/xolos/practicas/src/components/Template/Buscador.js"],"names":["React","useState","useEffect","useDebounce","filtrarArreglo","Buscador","setFiltrado","arr_sin_filtrar","buscadores","estado_inicial","buscador_previo","setBuscadorPrevio","buscador","handleChange","alias","value","idx_campo","map","item","indexOf","keys","posicion","split","obj","aux","i","length","Object","assign","nuevo_array","idx","mostrar","placeholder","e","target"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {useState, useEffect} from 'react';\nimport useDebounce from \"../../services/debounceService\";\nimport filtrarArreglo from \"../../services/filterService\";\n\nconst Buscador = ({setFiltrado, arr_sin_filtrar, buscadores, estado_inicial}) => {\n//|------State-------|//\n    const [buscador_previo, setBuscadorPrevio] = useState({});\n    const buscador = useDebounce(buscador_previo, 200);\n\n//|------Actions------|//\n    const handleChange = (alias, value) => {\n        let idx_campo = (buscadores || []).map(item => item.alias).indexOf(alias);\n        let keys = buscadores[idx_campo].posicion.split(\".\");\n        let obj = value;\n        let aux = {};\n        for (let i = keys.length - 1; i >= 0; i--) {\n            aux[keys[i]] = obj;\n            obj = Object.assign({}, aux);\n            aux = {};\n        }\n        setBuscadorPrevio(Object.assign({}, buscador_previo, obj));\n    };\n\n    useEffect(() => {\n        if (buscador) {\n            let nuevo_array = arr_sin_filtrar != null ? filtrarArreglo(arr_sin_filtrar, buscador) : [];\n            setFiltrado(nuevo_array);\n        }\n    }, [buscador]);\n    useEffect(()=>{\n        setBuscadorPrevio(estado_inicial);\n    },[estado_inicial]);\n\n//|------Render------|//\n    return (\n        <tr className=\"w-100\">{\n            (buscadores || []).map((buscador, idx) => {\n                return (\n                    <td key={idx}>\n                        {buscador.alias && <input className={`form-control form-control-sm ${buscador.mostrar === false ? 'd-none' : ''}`}\n                               placeholder={buscador.placeholder}\n                               hidden={buscador.mostrar}\n                               onChange={e => {\n                                   handleChange(buscador.alias, e.target.value)\n                               }}/>}\n                    </td>\n\n                )\n            })\n        }</tr>\n    );\n};\n\nexport default Buscador;\n"]},"metadata":{},"sourceType":"module"}