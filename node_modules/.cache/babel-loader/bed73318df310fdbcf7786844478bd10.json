{"ast":null,"code":"import API from '../api/axios';\nimport { getUId } from \"../services/authService\";\nimport { useStore } from \"../index\";\nexport const cargarPermisos = () => {\n  const username_id = getUId();\n  return API.post('getAllPermisos', {\n    usernameId: username_id\n  }).then(res => {\n    let data = (res.data || []).map(permiso => `${permiso.seccion.nombre}.${permiso.nombre}`);\n    return data;\n  });\n};\nexport const permisosCargados = permisos => {\n  return permisos != null;\n};\nexport const can = permiso => {\n  const {\n    permisos\n  } = useStore.getState();\n  return (permisos || []).indexOf(permiso) >= 0;\n};","map":{"version":3,"sources":["/home/frangb/Documentos/xolos/practicas/src/services/seguridadService.js"],"names":["API","getUId","useStore","cargarPermisos","username_id","post","usernameId","then","res","data","map","permiso","seccion","nombre","permisosCargados","permisos","can","getState","indexOf"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,cAAhB;AACA,SAAQC,MAAR,QAAqB,yBAArB;AACA,SAAQC,QAAR,QAAuB,UAAvB;AAEA,OAAO,MAAMC,cAAc,GAAG,MAAM;AAChC,QAAMC,WAAW,GAAGH,MAAM,EAA1B;AACA,SAAOD,GAAG,CAACK,IAAJ,CAAS,gBAAT,EAA2B;AAACC,IAAAA,UAAU,EAAEF;AAAb,GAA3B,EAAsDG,IAAtD,CAA4DC,GAAD,IAAS;AACvE,QAAIC,IAAI,GAAG,CAACD,GAAG,CAACC,IAAJ,IAAU,EAAX,EAAeC,GAAf,CAAmBC,OAAO,IAAK,GAAEA,OAAO,CAACC,OAAR,CAAgBC,MAAO,IAAGF,OAAO,CAACE,MAAO,EAA1E,CAAX;AACA,WAAOJ,IAAP;AACH,GAHM,CAAP;AAIH,CANM;AAQP,OAAO,MAAMK,gBAAgB,GAAIC,QAAD,IAAc;AAC1C,SAAOA,QAAQ,IAAI,IAAnB;AACH,CAFM;AAIP,OAAO,MAAMC,GAAG,GAAIL,OAAD,IAAa;AAC5B,QAAM;AAACI,IAAAA;AAAD,MAAWb,QAAQ,CAACe,QAAT,EAAjB;AACA,SAAO,CAACF,QAAQ,IAAI,EAAb,EAAiBG,OAAjB,CAAyBP,OAAzB,KAAqC,CAA5C;AACH,CAHM","sourcesContent":["import API from '../api/axios';\nimport {getUId} from \"../services/authService\";\nimport {useStore} from \"../index\";\n\nexport const cargarPermisos = () => {\n    const username_id = getUId();\n    return API.post('getAllPermisos', {usernameId: username_id}).then((res) => {\n        let data = (res.data||[]).map(permiso => `${permiso.seccion.nombre}.${permiso.nombre}`);\n        return data;\n    });\n};\n\nexport const permisosCargados = (permisos) => {\n    return permisos != null;\n}\n\nexport const can = (permiso) => {\n    const {permisos}=useStore.getState();\n    return (permisos || []).indexOf(permiso) >= 0;\n}"]},"metadata":{},"sourceType":"module"}