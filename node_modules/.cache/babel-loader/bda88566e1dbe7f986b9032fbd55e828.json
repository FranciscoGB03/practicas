{"ast":null,"code":"var _jsxFileName = \"/home/frangb/Documentos/xolos/practicas/src/components/Admin/Permisos/Permisos.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport Template from \"../../Template/Template\";\nimport Titulo from \"../../Template/Titulo\";\nimport Roles from './Roles';\nimport UsuariosAsignados from './UsuariosAsignados';\nimport PermisosAsignados from './PermisosAsignados';\nimport { getCatalogos } from '../../../api/catalogosApi';\nimport SinSesion from '../../Template/SinSesion';\nimport { isLogged } from \"../../../services/authService\";\nimport { useTranslation } from \"react-i18next\";\nimport { FcRules } from \"react-icons/fc\";\nimport { cerrarAlert } from \"../../../services/swalService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PermisosAdmin = () => {\n  _s();\n\n  //|------Hooks------|//\n  const [t] = useTranslation(['admin']);\n  const [roles, setRoles] = useState([]);\n  const [rolSelect, setRolSelect] = useState([]);\n  const [usuarios, setUsuarios] = useState([]);\n  const [seccionesAsig, setSeccionesAsig] = useState([]); //Banderas\n  //|------./Hooks------|//\n  //|-----------useEffects----------|//\n\n  useEffect(() => {\n    cargarDatosIniciales();\n  }, []); //|----------./useEffects----------|//\n\n  const cargarDatosIniciales = () => {\n    {\n      getCatalogos([{\n        nombre: 'seccion_permiso',\n        relaciones: ['permisos'],\n        metodo: 'orderBy'\n      }, {\n        nombre: 'rol',\n        metodo: 'orderBy',\n        relaciones: ['rels_rol_permiso', 'rels_roles.username.username_trabajadores.trabajador']\n      }, {\n        nombre: 'username',\n        relaciones: [],\n        metodo: 'orderBy'\n      }]).then(res => {\n        setRoles(res.rol.data);\n        setSeccionesAsig(res.seccion_permiso.data);\n        setUsuarios(res.username.data);\n        cerrarAlert();\n      });\n    }\n  }; //|------./Datos iniciales------|//\n\n\n  return /*#__PURE__*/_jsxDEV(Template, {\n    children: isLogged() ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Titulo, {\n          titulo: t('admin:tituloPermiso'),\n          icono: FcRules\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \" d-flex justify-content-center flex-wrap\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2\",\n            children: /*#__PURE__*/_jsxDEV(Roles, {\n              roles: roles,\n              setRoles: setRoles,\n              rolSelect: rolSelect,\n              setRolSelect: setRolSelect\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 29\n          }, this), rolSelect.id != null && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex flex-wrap\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(UsuariosAsignados, {\n                rolSelect: rolSelect,\n                usuarios: usuarios,\n                setRolSelect: setRolSelect\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(PermisosAsignados, {\n                seccionesAsig: seccionesAsig,\n                setSeccionesAsig: setSeccionesAsig,\n                rolSelect: rolSelect\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(SinSesion, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 19\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PermisosAdmin, \"1v8pB3Xbd0r3vIuCfTEjIHGDSH4=\", false, function () {\n  return [useTranslation];\n});\n\n_c = PermisosAdmin;\nexport default PermisosAdmin;\n\nvar _c;\n\n$RefreshReg$(_c, \"PermisosAdmin\");","map":{"version":3,"sources":["/home/frangb/Documentos/xolos/practicas/src/components/Admin/Permisos/Permisos.js"],"names":["React","useState","useEffect","Template","Titulo","Roles","UsuariosAsignados","PermisosAsignados","getCatalogos","SinSesion","isLogged","useTranslation","FcRules","cerrarAlert","PermisosAdmin","t","roles","setRoles","rolSelect","setRolSelect","usuarios","setUsuarios","seccionesAsig","setSeccionesAsig","cargarDatosIniciales","nombre","relaciones","metodo","then","res","rol","data","seccion_permiso","username","id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {useState, useEffect} from 'react';\nimport Template from \"../../Template/Template\";\nimport Titulo from \"../../Template/Titulo\";\nimport Roles from './Roles';\nimport UsuariosAsignados from './UsuariosAsignados';\nimport PermisosAsignados from './PermisosAsignados';\nimport {getCatalogos} from '../../../api/catalogosApi';\nimport SinSesion from '../../Template/SinSesion';\nimport {isLogged} from \"../../../services/authService\";\nimport {useTranslation} from \"react-i18next\";\nimport {FcRules} from \"react-icons/fc\";\nimport {cerrarAlert} from \"../../../services/swalService\";\n\n\nconst PermisosAdmin = () => {\n    //|------Hooks------|//\n    const [t] = useTranslation(['admin'])\n    const [roles, setRoles] = useState([]);\n    const [rolSelect, setRolSelect] = useState([]);\n    const [usuarios, setUsuarios] = useState([]);\n    const [seccionesAsig, setSeccionesAsig] = useState([]);\n    //Banderas\n    //|------./Hooks------|//\n    //|-----------useEffects----------|//\n    useEffect(() => {\n        cargarDatosIniciales()\n    }, [])\n    //|----------./useEffects----------|//\n    const cargarDatosIniciales = () => {\n        {\n            getCatalogos([\n                {nombre: 'seccion_permiso', relaciones: ['permisos'], metodo: 'orderBy'},\n                {\n                    nombre: 'rol',\n                    metodo: 'orderBy',\n                    relaciones: ['rels_rol_permiso', 'rels_roles.username.username_trabajadores.trabajador']\n                },\n                {nombre: 'username', relaciones: [], metodo: 'orderBy'}\n            ]).then(res => {\n                setRoles(res.rol.data);\n                setSeccionesAsig(res.seccion_permiso.data);\n                setUsuarios(res.username.data);\n                cerrarAlert();\n            });\n        }\n\n    }\n    //|------./Datos iniciales------|//\n    return (\n        <Template>\n            {isLogged() ?\n                <div>\n                    <div>\n                        <Titulo titulo={t('admin:tituloPermiso')} icono={FcRules}/>\n                        <div className=\" d-flex justify-content-center flex-wrap\">\n                            <div className=\"mb-2\">\n                                <Roles\n                                    roles={roles}\n                                    setRoles={setRoles}\n                                    rolSelect={rolSelect}\n                                    setRolSelect={setRolSelect}/>\n                            </div>\n                            {(rolSelect.id != null) &&\n                            <div className=\"d-flex flex-wrap\">\n                                <div>\n                                    <UsuariosAsignados\n                                        rolSelect={rolSelect}\n                                        usuarios={usuarios}\n                                        setRolSelect={setRolSelect}\n                                    />\n                                </div>\n                                <div>\n                                    <PermisosAsignados\n                                        seccionesAsig={seccionesAsig}\n                                        setSeccionesAsig={setSeccionesAsig}\n                                        rolSelect={rolSelect}\n                                    />\n                                </div>\n                            </div>\n                            }\n                        </div>\n                    </div>\n                </div>\n                : <SinSesion/>\n            }\n        </Template>\n    );\n}\n\nexport default PermisosAdmin;"]},"metadata":{},"sourceType":"module"}